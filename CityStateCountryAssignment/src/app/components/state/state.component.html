<div class="top-bar">
  <nav class="navbar">
      <div class="container-fluid">
          <span class="navbar-brand mb-0 h1">State List</span>
          <form class="d-flex">
              <button type="button" class="btn btn-primary mt-3" (click)="openAddStateModel()">Add State</button>
          </form>
      </div>
  </nav>
</div>
<div class="container">
  <table class="table table-bordered table-hover table-sm">
      <thead>
          <tr>
              <th>Country Name</th>
              <th>State Name</th>
              <th>State Population</th>
              <th>Number Of Cities</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let state of states; let i = index">
              <td data-bs-toggle="tooltip" data-bs-placement="top" title="{{ state.countryName}}">
                  <a [routerLink]="['/country']" class="form-control form-control-sm">
                      {{ state.countryName }}
                  </a>
              </td>
              <td data-bs-toggle="tooltip" data-bs-placement="top" title="{{ state.stateName}}">
                  <input class="form-control form-control-sm" [readOnly]="!state.editable" [(ngModel)]="state.stateName">
              </td>
              <td data-bs-toggle="tooltip" data-bs-placement="top" title="{{ state.statePopulation + ' Crore' }}">
                  <div class="input-group">
                      <input class="form-control form-control-sm" 
                             [readOnly]="!state.editable" 
                             [(ngModel)]="state.statePopulation"
                             [type]="state.editable ? 'number' : 'text'">
                      <span class="input-group-append population-suffix"> Crore</span>
                  </div>
              </td>
              <td data-bs-toggle="tooltip" data-bs-placement="top" title="{{state.cityCount + ' Cities' }}">
                  <input class="form-control form-control-sm" readOnly [(ngModel)]="state.cityCount">
              </td>
              <td>
                  <div *ngIf="!state.editable" class="action-buttons">
                      <button class="btn btn-outline-primary btn-sm" (click)="editState(i)"data-bs-toggle="tooltip" data-bs-placement="top" title="Edit State">
                          <i class="bi bi-pencil"></i>
                      </button>
                      <button class="btn btn-outline-danger btn-sm" (click)="deleteState(state.id)" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete State">
                          <i class="bi bi-trash"></i>
                      </button>
                  </div>
                  <div *ngIf="state.editable" class="action-buttons">
                      <button class="btn btn-outline-success btn-sm" (click)="saveState(i)"data-bs-toggle="tooltip" data-bs-placement="top" title="Save Changes">
                          <i class="bi bi-check-lg"></i>
                      </button>
                  </div>
              </td>
          </tr>
      </tbody>
  </table>
</div>
